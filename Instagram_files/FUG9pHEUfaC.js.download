;/*FB_PKG_DELIM*/

__d("BladerunnerHandlersPresencePresenceHandlerTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({BuddyListPolling:1,AdditionalContactsPolling:2,Disabled:3,EnableRealtimeUpdatesOnly:4});d=a({ThriftCompact:1,Json:2,Dasm:3});f=a({Stream:1,Timed:2});b=a({Full:1,Incremental:2});var g=a({AdditionalContacts:1,PollingMode:2,PresenceReporting:3,ContextualPresenceReporting:4});a=a({AdditionalContacts:"additionalContacts",PollingModeAmendment:"pollingModeAmendment",PresenceReportingAmendment:"presenceReportingAmendment",ContextualPresenceReportingAmendment:"contextualPresenceReportingAmendment"});e.exports={LifecycleMode:f,PollingMode:c,PresenceAmendmentTypes:g,PresenceStreamAmendment$Types:a,PublishEncoding:d,PublishType:b}}),null);
__d("IGDAiAgentsUtils",["I64","LSIntEnum","MessagingAttachmentType","MessagingThreadSubtype"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="656175869434325";function a(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IG_AI_BOT_ONE_TO_ONE))}function b(a){var b=a.attachmentType;a=a.mustacheText;if(b==null||a==null)return!1;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER));a=a!=null&&a!=="";return b&&a}function e(a){return a!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(j))}g.isAiThread=a;g.isGenAISticker=b;g.isMetaAiThread=e}),98);
__d("IGDSCircleXOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"16.604",x2:"7.396",y1:"7.396",y2:"16.604"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"7.396",x2:"16.604",y1:"7.396",y2:"16.604"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDTypingIndicatorContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({typingEvents:[]});g["default"]=b}),98);
__d("IGDTypingIndicatorUtils",["$InternalEnum","FBLogger","I64","ReQL","ReQLSuspense","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({TYPING:1,STOPPED_TYPING:0});function a(a){var b,d;a=a==null||(b=a.xdt_direct_realtime_event)==null||(b=b.data)==null?void 0:b[0];d=(d=a==null?void 0:a.path)!=null?d:"";var e=(a=a==null?void 0:a.value)!=null?a:"{}";try{a=JSON.parse(e,function(a,b){if(a==="sender_id"&&typeof b==="number"){a=/\"sender_id\":(\d+)/;a=e.match(a);return a?a[1]:null}return b});var f=/threads\/(\d+)\/activity_indicator_id/;d=d.match(f);f=d?d[1]:null;d=Math.floor(Number(a.timestamp)/1e3);if(f!=null)return{activityStatus:a.activity_status,senderIgId:a.sender_id,threadIgId:f,timestamp:d,ttl:a.ttl}}catch(a){c("FBLogger")("igd_web").catching(a).warn("IGD typing indicator: typing event could not be parsed")}return null}function e(a,b){return(h||(h=d("I64"))).equal(a.threadKey,b)&&a.activityStatus===i.TYPING}function j(a,b){var c=d("react-compiler-runtime").c(4),e,g;c[0]!==a.tables.ig_thread_info||c[1]!==b?(e=function(){return d("ReQL").fromTableDescending(a.tables.ig_thread_info.index("igThreadID")).getKeyRange(b!=null?b:"")},g=[a.tables.ig_thread_info,b],c[0]=a.tables.ig_thread_info,c[1]=b,c[2]=e,c[3]=g):(e=c[2],g=c[3]);c=d("ReQLSuspense").useFirst(e,g,f.id+":99");return c!=null?c.threadKey:null}function k(a,b){var c=d("react-compiler-runtime").c(4),e,g;c[0]!==a.tables.ig_contact_info||c[1]!==b?(e=function(){return d("ReQL").fromTableAscending(a.tables.ig_contact_info).filter(function(a){return a.igId===b})},g=[a.tables.ig_contact_info,b],c[0]=a.tables.ig_contact_info,c[1]=b,c[2]=e,c[3]=g):(e=c[2],g=c[3]);c=d("ReQLSuspense").useFirst(e,g,f.id+":112");return c!=null?c.contactId:null}function l(a,b){var c=(h||(h=d("I64"))).equal(a.threadKey,b.threadKey),e=h.equal(a.senderId,b.senderId);a=a.timestamp<h.to_float(b.timestampMs);return c&&e&&a}function m(a,b){b=n(a,b);a=a.activityStatus===i.TYPING;return b&&a}function n(a,b){return(h||(h=d("I64"))).equal(a.threadKey,b.threadKey)&&(h||(h=d("I64"))).equal(a.senderId,b.senderId)}g.IGDTypingStatus=i;g.transformIGDTypingPayload=a;g.hasTypingOnThread=e;g.useThreadIdFromIGId=j;g.useContactIdFromSenderIGId=k;g.isNewMessageAfterTypingEvent=l;g.shouldTypingEventStop=m;g.isSameThreadSenderEvent=n}),98);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:b("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);
__d("useIGDTypingIndicatorSubscription_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9712315318850438"}),null);
__d("useIGDTypingIndicatorSubscription.graphql",["useIGDTypingIndicatorSubscription_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input_data"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input_data"}],concreteType:"XDTDirectRealtimeEventResponse",kind:"LinkedField",name:"xdt_direct_realtime_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},{alias:null,args:null,concreteType:"XDTDirectRealtimeOperation",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"op",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useIGDTypingIndicatorSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useIGDTypingIndicatorSubscription",selections:c},params:{id:b("useIGDTypingIndicatorSubscription_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_direct_realtime_event"],subscriptionName:"xdt_direct_realtime_event"},name:"useIGDTypingIndicatorSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useIGDTypingIndicator",["FBLogger","IGDTypingIndicatorUtils","PolarisConfig","react","react-compiler-runtime","react-relay","useIGDTypingIndicatorSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;var j=h!==void 0?h:h=b("useIGDTypingIndicatorSubscription.graphql");function a(a){var b=d("react-compiler-runtime").c(6);if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var c;c=(c=d("PolarisConfig").getViewerId())!=null?c:"";b[0]=c}else c=b[0];c=c;var e;b[1]!==a?(e=function(b){if(b!=null){b=d("IGDTypingIndicatorUtils").transformIGDTypingPayload(b);b!=null&&a(b)}},b[1]=a,b[2]=e):e=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(c={input_data:{user_id:c}},b[3]=c):c=b[3];b[4]!==e?(c={onError:k,onNext:e,subscription:j,variables:c},b[4]=e,b[5]=c):c=b[5];e=c;b=e;d("react-relay").useSubscription(b)}function k(a){c("FBLogger")("igd_web").catching(a).warn("IGD typing indicator: Error with subscription setup")}g["default"]=a}),98);
__d("IGDTypingIndicatorProvider.react",["IGDTypingIndicatorContext","IGDTypingIndicatorUtils","ReQL","ReQLSuspense","clearInterval","react","react-compiler-runtime","setInterval","useIGDTypingIndicator","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=["senderIgId","threadIgId"],i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o=1e3,p=11e3;function a(a){var b=d("react-compiler-runtime").c(24);a=a.children;var e=(i||(i=c("useReStore")))(),g=n(),j=g[0],q=g[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=[],b[0]=g):g=b[0];g=n(g);var r=g[0],s=g[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=[],b[1]=g):g=b[1];g=n(g);var t=g[0],u=g[1],v=m(null),w=d("IGDTypingIndicatorUtils").useThreadIdFromIGId(e,j==null?void 0:j.threadIgId),x=d("IGDTypingIndicatorUtils").useContactIdFromSenderIGId(e,j==null?void 0:j.senderIgId),y;b[2]!==e.tables.messages||b[3]!==r?(g=function(){return d("ReQL").fromTableDescending(e.tables.messages).filter(function(a){var b=r.some(function(b){return d("IGDTypingIndicatorUtils").isNewMessageAfterTypingEvent(b,a)});return b})},y=[r,e.tables.messages],b[2]=e.tables.messages,b[3]=r,b[4]=g,b[5]=y):(g=b[4],y=b[5]);var z=d("ReQLSuspense").useArray(g,y,f.id+":58");b[6]!==z||b[7]!==r?(g=function(){var a=r.filter(function(a){return!z.some(function(b){return d("IGDTypingIndicatorUtils").isNewMessageAfterTypingEvent(a,b)})});u(function(){return a})},y=[r,z],b[6]=z,b[7]=r,b[8]=g,b[9]=y):(g=b[8],y=b[9]);l(g,y);b[10]!==j||b[11]!==x||b[12]!==w?(g=function(){if(j&&w!=null&&x!=null){j.senderIgId;j.threadIgId;var a=babelHelpers.objectWithoutPropertiesLoose(j,h),b=babelHelpers["extends"]({},a,{senderId:x,threadKey:w});s(function(a){if(b.activityStatus===d("IGDTypingIndicatorUtils").IGDTypingStatus.STOPPED_TYPING)return a.filter(function(a){return!d("IGDTypingIndicatorUtils").shouldTypingEventStop(a,b)});var c=a.findIndex(function(a){return d("IGDTypingIndicatorUtils").isSameThreadSenderEvent(a,b)});return c===-1?[].concat(a,[b]):a.map(function(a,d){return d===c?babelHelpers["extends"]({},a,{timestamp:b.timestamp}):a})})}},y=[j,x,w],b[10]=j,b[11]=x,b[12]=w,b[13]=g,b[14]=y):(g=b[13],y=b[14]);l(g,y);b[15]!==r.length?(g=function(){r.length>0?v.current=c("setInterval")(function(){var a=Date.now();s(function(b){return b.filter(function(b){return b.timestamp+p>a})})},o):r.length===0&&v.current!=null&&(c("clearInterval")(v.current),v.current=null);return function(){v.current&&(c("clearInterval")(v.current),v.current=null)}},y=[r.length],b[15]=r.length,b[16]=y,b[17]=g):(y=b[16],g=b[17]);l(g,y);b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){q(a)},b[18]=g):g=b[18];y=g;c("useIGDTypingIndicator")(y);b[19]!==t?(g={typingEvents:t},b[19]=t,b[20]=g):g=b[20];y=g;t=y;b[21]!==a||b[22]!==t?(g=k.jsx(c("IGDTypingIndicatorContext").Provider,{value:t,children:a}),b[21]=a,b[22]=t,b[23]=g):g=b[23];return g}g["default"]=a}),98);
__d("usePresenceUnifiedClientContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext,j=c(null);function a(){return i(j)}g.PresenceUnifiedClientContext=j;g.usePresenceUnifiedClientContext=a}),98);
__d("usePresenceUnifiedMapContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext,j=c(new Map());function a(){return i(j)}g.PresenceUnifiedMapContext=j;g.usePresenceUnifiedMapContext=a}),98);
__d("IGPresenceUnifiedContext.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferred","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=c("deferredLoadComponent")(c("requireDeferred")("IGPresenceUnifiedSetup.react").__setRef("IGPresenceUnifiedContext.react"));function a(a){var b=a.children,e=a.client;a=a.presenceSetupQueryRef;var f=k(new Map()),g=f[0],h=f[1];j(function(){return e.registerListener(function(a){h(new Map(a))})},[e]);return i.jsx(d("usePresenceUnifiedClientContext").PresenceUnifiedClientContext.Provider,{value:e,children:i.jsxs(d("usePresenceUnifiedMapContext").PresenceUnifiedMapContext.Provider,{value:g,children:[i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx("span",{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,{client:e,presenceSetupQueryRef:a})})})}),b]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.createContext,l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var p=k(e);function a(a){a=a.children;var b=o(),e=b[0],g=b[1],i=(h||(h=c("useReStore")))(),k=e==null?void 0:e.messageOtid,l=e==null?void 0:e.messageId,q=(b=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(i.tables.messages.index("optimistic")).getKeyRange(k):d("ReQL").empty()},[i,k],f.id+":65"))==null?void 0:b.messageId;m(function(){q!=null&&l==null&&g(function(a){return a==null?null:babelHelpers["extends"]({},a,{messageId:q})})},[g,l,q]);b=n(function(){return{setVisibleMessage:g,visibleMessage:e}},[e,g]);return j.jsx(p.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return l(p)}g.MWPVisibleMessageContext=p;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&j.onReady(function(a){a.log(function(){return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:g!=null?g:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4148");b=d("FalcoLoggerInternal").create("messenger_discoverable_broadcast_chats_client_events",a);e=b;g["default"]=e}),98);
__d("PresenceCapabilityBit",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;b=(h||(h=d("I64"))).of_float(2);c=h.of_float(8);e=h.of_float(268435456);function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return(h||(h=d("I64"))).to_string(b.reduce(function(a,b){return(h||(h=d("I64"))).or_(a,b)},h.zero))}g.VoiceIpEnabled=b;g.WebrtcEnabled=c;g.ReceivePublishWithEIMUID=e;g.combine=a}),98);
__d("PresenceCommonPresenceCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Active:2,Inactive:0});c=b("$InternalEnum")({Facebook:1,Messenger:2,Instagram:3,Threads:4});d=b("$InternalEnum")({StreamControllerConnectionIds:"streamControllerConnectionIds"});e.exports={AppFamily:c,PresenceStatus:a,StreamControllerSessionId$Types:d}}),null);
__d("PresenceUnifiedClient",["BladerunnerHandlersPresencePresenceHandlerTypes","FBLogger","Promise","RealtimeNexusSessionDataTypes","RequestStreamCommonRequestStreamCommonTypes","asyncToGeneratorRuntime","clearInterval","debounce","gkx","promiseDone","requireDeferred","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("TransportSelectingClientSingleton").__setRef("PresenceUnifiedClient"),j=2.5*60*1e3,k=1e3;a=function(){function a(a){var b=this;this.$1=c("gkx")("9391");this.$2=!1;this.$3=new Map();this.$8=new Map();this.$9=d("RealtimeNexusSessionDataTypes").PresenceAvailability.IDLE;this.$10=new Set();this.$20=c("debounce")(function(){return b.$18()},k);this.$4=a;this.$11=(a=a.presenceReportingRequest)==null?void 0:a.capabilities}var e=a.prototype;e.$12=function(){this.$3.clear(),this.$13(),this.$5=null,c("clearInterval")(this.$7),this.$2=!1};e.$14=function(a){this.$1&&c("FBLogger")("rti_presence").info("Presence stream status update: %s",Number(a)),this.$6=a,a===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&c("promiseDone")(this.reportUserPresence(this.$9))};e.$15=function(a){this.$1&&c("FBLogger")("rti_presence").debug(a)};e.$16=function(a){this.$1&&c("FBLogger")("rti_presence").catching(a).info("Presence stream: stream terminated"),this.$12()};e.$17=function(a){var b=this;try{a=JSON.parse(a);this.$1&&c("FBLogger")("rti_presence").debug("Presence stream map updated: %s",JSON.stringify(a.presenceUpdates.map(function(a){var b=a.userId;a=a.presenceStatus;return{id:b,ps:a}})).trim());a.publishType===d("BladerunnerHandlersPresencePresenceHandlerTypes").PublishType.Full&&this.$3.clear();a.presenceUpdates.forEach(function(a){b.$3.set(a.userId,a)});this.$13()}catch(a){this.$1&&c("FBLogger")("rti_presence").catching(a).info("Presence stream: Presence publish could not be parsed");return}};e.$13=function(){for(var a of this.$8.values())a(this.$3)};e.startAdditionalContactsPolling=function(){var a=this;c("clearInterval")(this.$7);this.$7=c("setInterval")(function(){c("promiseDone")(a.$18())},j)};e.stopAdditionalContactsPolling=function(){c("clearInterval")(this.$7)};e.$19=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this.$5;if(b==null){this.$1&&c("FBLogger")("rti_presence").info("Presence: stream: You cannot ammend a stream that is not open");return!1}a.presenceReportingAmendment!=null&&(a.presenceReportingAmendment.reportingArguments.capabilities=this.$11);a={payload:babelHelpers["extends"]({},a)};try{return yield b.amendWithAck(JSON.stringify(a))}catch(a){this.$1&&c("FBLogger")("rti_presence").catching(a).info("Presence: stream: Failed to amend stream with ack");return!1}});function d(b){return a.apply(this,arguments)}return d}();e.$18=function(){var a=Array.from(this.$10);this.$1&&c("FBLogger")("rti_presence").info("Presence: stream: requestAdditonalContactsPresence %s",JSON.stringify(a));if(a.length===0)return(h||(h=b("Promise"))).resolve(!0);a={additionalContacts:a};return this.$19({additionalContacts:a})};e.closeStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{this.$5!=null&&(yield this.$5.cancel())}catch(a){this.$1&&c("FBLogger")("rti_presence").catching(a).info("Presence stream: error while closing stream")}finally{this.$12()}});function d(){return a.apply(this,arguments)}return d}();e.startStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2===!0||this.$5!=null)return;var b={method:"PresenceUnifiedJSON"};this.$2=!0;var e=JSON.stringify(babelHelpers["extends"]({},this.$4,{publishEncoding:d("BladerunnerHandlersPresencePresenceHandlerTypes").PublishEncoding.Json}));try{var f=(yield i.load());this.$5=(yield f.requestStream(b,e,{onData:function(b){return a.$17(b)},onFlowStatus:function(b){return a.$14(b)},onLog:function(b){return a.$15(b)},onTermination:function(b){return a.$16(b)}}))}catch(a){this.$1&&c("FBLogger")("rti_presence").catching(a).warn("Presence: stream: Failed to start presence stream")}finally{this.$2=!1}});function e(){return a.apply(this,arguments)}return e}();e.changeActiveStatusSetting=function(a){a={reportingArguments:{makeUserAvailableWhenInForeground:a,mutationId:c("uuidv4")()}};return this.$19({presenceReportingAmendment:a})};e.reportUserPresence=function(a){this.$9=a;if(this.$5==null)return(h||(h=b("Promise"))).resolve(!1);this.$1&&c("FBLogger")("rti_presence").info("Presence stream: report user presence: %s",Number(a));a={reportingArguments:{availability:a,foregrounded:Boolean(a===d("RealtimeNexusSessionDataTypes").PresenceAvailability.ACTIVE),mutationId:c("uuidv4")()}};return this.$19({presenceReportingAmendment:a})};e.addAdditionalContacts=function(a){for(a of a)this.$10.add(a);this.$20()};e.getPresenceMap=function(){return this.$3};e.registerListener=function(a){var b=this,d=c("uuidv4")();this.$8.set(d,a);return function(){b.$8["delete"](d)}};return a}();g.POLLING_INTERVAL_MS=j;g.REQUEST_ADDITIONAL_CONTACTS_DEBOUNCE_MS=k;g.PresenceUnifiedClient=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("isE2EEAttributedInstamadillo",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6650")===!0||c("qex")._("662")===!0&&c("qex")._("954")===!1}g["default"]=a}),98);
__d("useIGDAutoFitViewport",["PolarisUA","polarisGetAppPlatform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){i(function(){if(!j()||!a.current)return;var c=a.current;if(!b){var d=[],e=0,f=!1;l(d,window,"touchstart",function(a){e=a.touches[0].clientY},!0);l(d,window,"touchmove",function(a){a=a.touches[0].clientY;a=a-e>0;if(!f)return;!a?(c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.alignSelf="auto",c.scrollIntoView(!0))},!0);k(d,window.visualViewport,"resize",function(){f=window.innerHeight>window.visualViewport.height,f?(c.style.height=window.visualViewport.height+"px",c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.height="auto",c.style.alignSelf="auto")});return function(){for(var a of d)a()}}else c.style.height="auto",c.style.alignSelf="auto"},[b,a])}function j(){return window.visualViewport&&d("PolarisUA").isMobile()&&d("polarisGetAppPlatform").isAndroid()}function k(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}function l(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}g.useIGDAutoFitViewport=a;g.checkIGDAutoFitViewportEligibility=j}),98);
__d("useIGDEnableJoinCallButton",["PolarisCallGatingHelpers","ReQL","ReQLSuspense","justknobx","react-compiler-runtime","useOngoingCallIsStale","useOngoingCallServerInfoData","useOngoingCallState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("react-compiler-runtime").c(9),g=c("useOngoingCallServerInfoData")(a),h=c("useOngoingCallState")(a);b=c("useOngoingCallIsStale")(b,g!=null,e);e=i(a);f[0]!==b||f[1]!==g||f[2]!==h||f[3]!==e?(a=g!=null&&h!=null&&b!==!0&&d("PolarisCallGatingHelpers").isWebCallingEnabled()&&!e,f[0]=b,f[1]=g,f[2]=h,f[3]=e,f[4]=a):a=f[4];b=a;f[5]!==g||f[6]!==h||f[7]!==b?(e={ongoingCallServerInfoData:g,ongoingCallState:h,shouldShowJoinCallButton:b},f[5]=g,f[6]=h,f[7]=b,f[8]=e):e=f[8];return e}function i(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.participants||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a)},b[0]=e.tables.participants,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];g=d("ReQLSuspense").useArray(g,i,f.id+":66");i=g.length>=3;b[6]!==i?(g=i&&c("justknobx")._("705"),b[6]=i,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("useIsCurrentRouteMessageHiddenRequests",["IGDRouteProvider.react","useCurrentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentRoute")(),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=c("useRoutePassthroughProps")();if(a!=null&&(a.url==="/direct/requests/hidden"||a.url==="/direct/requests/hidden/"))return!0;return b!=null&&e!=null?e.entryPoint==="inboxSpam":!1}g["default"]=a}),98);